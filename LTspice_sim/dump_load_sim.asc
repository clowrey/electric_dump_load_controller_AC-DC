Version 4
SHEET 1 3728 1256
WIRE 2224 -800 1776 -800
WIRE 1456 -768 1376 -768
WIRE 1824 -752 1680 -752
WIRE 1968 -752 1824 -752
WIRE 2112 -752 1968 -752
WIRE 2576 -752 2464 -752
WIRE 2688 -752 2576 -752
WIRE 2864 -752 2688 -752
WIRE 1456 -736 1456 -768
WIRE 1744 -736 1456 -736
WIRE 2464 -720 2464 -752
WIRE 2576 -720 2576 -752
WIRE 2688 -720 2688 -752
WIRE 1456 -704 1456 -736
WIRE 1776 -656 1776 -800
WIRE 1824 -656 1824 -688
WIRE 1824 -656 1776 -656
WIRE 1856 -656 1824 -656
WIRE 1968 -656 1968 -688
WIRE 1968 -656 1936 -656
WIRE 2000 -656 1968 -656
WIRE 2112 -656 2112 -688
WIRE 2112 -656 2080 -656
WIRE 2144 -656 2112 -656
WIRE 2224 -656 2224 -800
WIRE 1040 -640 720 -640
WIRE 2464 -640 2464 -656
WIRE 2784 -640 2464 -640
WIRE 1136 -624 1136 -736
WIRE 1136 -624 1072 -624
WIRE 1376 -624 1136 -624
WIRE 1456 -624 1376 -624
WIRE 1824 -624 1824 -656
WIRE 1968 -624 1968 -656
WIRE 2112 -624 2112 -656
WIRE 640 -608 544 -608
WIRE 992 -608 992 -736
WIRE 992 -608 640 -608
WIRE 1008 -608 992 -608
WIRE 1120 -592 1072 -592
WIRE 2464 -592 2464 -640
WIRE 2480 -592 2464 -592
WIRE 2576 -592 2576 -656
WIRE 2576 -592 2560 -592
WIRE 2592 -592 2576 -592
WIRE 2688 -592 2688 -656
WIRE 2688 -592 2672 -592
WIRE 2704 -592 2688 -592
WIRE 2784 -592 2784 -640
WIRE 720 -576 720 -640
WIRE 720 -576 608 -576
WIRE 1856 -576 1856 -656
WIRE 1936 -576 1936 -656
WIRE 2000 -576 2000 -656
WIRE 2080 -576 2080 -656
WIRE 2144 -576 2144 -656
WIRE 2224 -576 2224 -656
WIRE 1040 -544 1040 -576
WIRE 1120 -544 1120 -592
WIRE 2464 -528 2464 -592
WIRE 2576 -528 2576 -592
WIRE 2688 -528 2688 -592
WIRE 1680 -496 1680 -752
WIRE 1680 -496 1520 -496
WIRE 1824 -480 1824 -560
WIRE 1968 -480 1968 -560
WIRE 1968 -480 1824 -480
WIRE 2112 -480 2112 -560
WIRE 2112 -480 1968 -480
WIRE 3408 -464 3408 -480
WIRE 3552 -464 3504 -464
WIRE 3664 -464 3552 -464
WIRE 608 -432 608 -576
WIRE 2464 -432 2464 -464
WIRE 2576 -432 2576 -464
WIRE 2576 -432 2464 -432
WIRE 2688 -432 2688 -464
WIRE 2688 -432 2576 -432
WIRE 2864 -432 2688 -432
WIRE 1968 -416 1968 -480
WIRE 544 -400 544 -608
WIRE 576 -400 544 -400
WIRE 688 -400 656 -400
WIRE 2576 -400 2576 -432
WIRE 480 -368 448 -368
WIRE 576 -368 480 -368
WIRE 3664 -336 3664 -384
WIRE 592 -320 592 -336
WIRE 608 -320 608 -336
WIRE 608 -320 592 -320
WIRE 624 -320 624 -336
WIRE 624 -320 608 -320
WIRE 608 -304 608 -320
WIRE 3504 -304 3504 -464
WIRE 3504 -304 3456 -304
WIRE 1520 -288 1520 -496
WIRE 1632 -288 1632 -304
WIRE 688 -224 688 -400
WIRE 1408 -144 1392 -144
WIRE 1520 -144 1520 -288
WIRE 1520 -144 1488 -144
WIRE 1616 -144 1520 -144
WIRE 1392 -128 1392 -144
WIRE 1520 -128 1520 -144
WIRE 1616 -32 1616 -80
WIRE 1744 -32 1744 -736
WIRE 1744 -32 1696 -32
WIRE 1792 -32 1744 -32
WIRE 1840 -32 1792 -32
WIRE 1744 -16 1744 -32
WIRE 1840 -16 1840 -32
WIRE 992 16 960 16
WIRE 688 32 688 -224
WIRE 896 32 688 32
WIRE 992 32 992 16
WIRE 1440 32 992 32
WIRE 1472 32 1440 32
WIRE 1744 64 1744 48
WIRE 1840 64 1744 64
WIRE 1520 80 1520 48
WIRE 1744 80 1744 64
FLAG 1632 -288 0
FLAG 1744 80 0
FLAG 1520 80 0
FLAG 3664 -336 0
FLAG 3408 -288 0
FLAG 368 -368 0
FLAG 1456 -544 0
FLAG 608 -304 0
FLAG 720 -496 0
FLAG 1136 -624 Vfb
FLAG 1440 32 Vgate
FLAG 1792 -32 Vbatt
FLAG 1520 -288 HydroRectified
FLAG 3552 -464 Vload
FLAG 480 -368 Vref
FLAG 688 -224 VfbOut
FLAG 1120 -464 0
FLAG 640 -608 VfreedbackIntermediate
FLAG 1968 -416 0
FLAG 1392 -64 0
FLAG 1040 -544 0
FLAG 2576 -400 0
SYMBOL voltage 720 -592 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL nmos 1472 -48 R0
SYMATTR InstName M1
SYMATTR Value IPB039N10N3
SYMBOL cap 1728 -16 R0
WINDOW 3 32 52 Left 2
SYMATTR Value 100µ
SYMATTR SpiceLine Rser=7m
SYMATTR InstName C1
SYMBOL res 1504 -144 R0
SYMATTR InstName R1
SYMATTR Value 11
SYMBOL voltage 1632 -400 R0
SYMATTR InstName V3
SYMATTR Value 600
SYMBOL res 1712 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 0.01
SYMBOL res 1824 -32 R0
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL voltage 3664 -480 R0
WINDOW 123 74 56 VTop 2
WINDOW 39 53 56 VTop 2
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName V4
SYMATTR Value PULSE(0 8 0 10n 10n 8m 5.33ms)
SYMBOL nmos 3456 -384 M0
SYMATTR InstName M2
SYMATTR Value IPB039N10N3
SYMBOL res 3392 -480 R0
SYMATTR InstName R5
SYMATTR Value 15
SYMBOL Opamps\\LT1014 416 -672 R0
SYMATTR InstName U1
SYMBOL Opamps\\LT1014 192 -656 R0
SYMATTR InstName U2
SYMBOL voltage 464 -368 R90
WINDOW 123 74 56 VTop 2
WINDOW 39 53 56 VTop 2
WINDOW 0 -32 56 VBottom 2
WINDOW 3 36 177 VTop 2
SYMATTR InstName V5
SYMATTR Value PULSE(0 15 0 25u 25u 1n 50u)
SYMBOL cap 1360 -688 R0
WINDOW 3 23 51 Left 2
SYMATTR Value 10p
SYMATTR InstName C2
SYMBOL res 1440 -720 R0
SYMATTR InstName R6
SYMATTR Value 120k
SYMBOL res 1440 -640 R0
SYMATTR InstName R7
SYMATTR Value 2k
SYMBOL Comparators\\LT1016 608 -448 R0
WINDOW 3 95 63 Left 2
SYMATTR InstName U3
SYMBOL voltage 1120 -560 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 6
SYMBOL Opamps\\LT1213 1040 -672 M0
SYMATTR InstName U4
SYMBOL res 1152 -752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 40k
SYMBOL cap 1056 -752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 10p
SYMBOL res 1360 -784 R0
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL Digital\\buf 896 -32 R0
WINDOW 3 8 44 Left 2
SYMATTR Value Vhigh=12 Vlow=0 Ref=1.5
SYMATTR InstName A2
SYMBOL diode 1600 -144 R0
SYMATTR InstName D1
SYMBOL voltage 2096 -656 R90
WINDOW 3 -53 52 Right 2
WINDOW 123 24 44 Left 2
WINDOW 39 -133 82 Left 2
WINDOW 0 -65 28 Left 2
SYMATTR Value SINE(0 600 60 0 0 0)
SYMATTR SpiceLine Rser=10
SYMATTR InstName V8
SYMBOL diode 1840 -560 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode 1840 -688 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL diode 1984 -688 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMBOL diode 1984 -560 R180
WINDOW 0 22 65 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMBOL diode 2128 -560 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMBOL diode 2128 -688 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMBOL cap 1376 -128 R0
SYMATTR InstName C5
SYMATTR Value 10µ
SYMBOL res 1504 -160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value .2
SYMBOL ind2 2032 -336 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Lp1
SYMATTR Value 500µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=.01
SYMBOL ind2 2336 -320 M90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Ls1
SYMATTR Value 1µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=.01
SYMBOL ind2 2224 -272 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Lp2
SYMATTR Value 500µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=.01
SYMBOL ind2 2256 -416 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Lp3
SYMATTR Value 500µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=.01
SYMBOL ind2 2512 -240 M90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Ls2
SYMATTR Value 1µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=.01
SYMBOL ind2 2608 -192 M90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Ls3
SYMATTR Value 1µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=.01
SYMBOL diode 2480 -656 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL diode 2480 -464 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D9
SYMBOL diode 2592 -464 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D10
SYMBOL diode 2704 -464 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D11
SYMBOL diode 2704 -656 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D12
SYMBOL diode 2592 -656 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D13
SYMBOL res 3232 -608 R0
SYMATTR InstName R10
SYMATTR Value 10
SYMBOL Misc\\battery 2864 -528 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 24 72 Left 2
SYMATTR Value 48
SYMATTR InstName V2
SYMBOL voltage 1952 -656 R90
WINDOW 3 -53 52 Right 2
WINDOW 123 24 44 Left 2
WINDOW 39 -133 82 Left 2
WINDOW 0 -65 28 Left 2
SYMATTR Value SINE(0 600 60 0 0 -120)
SYMATTR SpiceLine Rser=10
SYMATTR InstName V7
SYMBOL voltage 2240 -656 R90
WINDOW 3 -53 52 Right 2
WINDOW 123 24 44 Left 2
WINDOW 39 -133 82 Left 2
WINDOW 0 -65 28 Left 2
SYMATTR Value SINE(0 600 60 0 0 120)
SYMATTR SpiceLine Rser=10
SYMATTR InstName V9
TEXT 1440 192 Left 2 !.tran 40m startup
TEXT 1008 -336 Left 2 !.meas start param 20ms
TEXT 2272 -672 Left 2 !K1 Lp1 Ls1 1
TEXT 2272 -632 Left 2 !K2 Lp2 Ls2 1
TEXT 2272 -592 Left 2 !K3 Lp3 Ls3 1
